# 线段树

## 一、问题背景

1. 单点修改，区间查询（基础版）
2. 区间修改，区间查询（进阶版）
3. 单点修改，单点查询（用不着线段树）
4. 区间修改，单点查询（是第二种情况的特例）



## 二、基础版线段树

1. 线段树是对于一维序列的一种维护结构
2. 采用的分治的思想，将总区间分成左右两部分，一直进行下去，直到区间中只剩下一个节点为止
3. 线段树的叶子结点，代表了原序列中的单个位置的值
4. 如果采用完全二叉树的存储结构的话，最起码需要 $4n$ 的存储空间
5. 当面对区间修改的时候，基础版的线段树效率上还不如直接在一维序列上修改
6. 只适用于单点修改，区间查询



## 三、进阶版线段树

1. 优化掉了代码实现中的：l，r。区间变量
2. 可以用于区间更新，区间查询
3. 增加了懒标记，达到能够区间更新的目的
4. 懒标记是需要向下下沉的
5. 标记下沉发生在递归之前，向上更新发生在具有修改操作的递归之后